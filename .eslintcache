[{"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\index.js":"1","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\App.js":"2","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\reportWebVitals.js":"3","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\navbar\\navbar.js":"4","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\Products\\products.js":"5","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\home-page\\home-page.js":"6","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\products\\products.js":"7","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\categories\\categories.js":"8","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\products\\edit.js":"9","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\products\\delete.js":"10","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\login-page\\login-page.js":"11","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\products\\add.js":"12","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\Users\\sign-up.js":"13","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\Users\\users-main.js":"14","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\Users\\edit.js":"15","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\Users\\delete.js":"16"},{"size":500,"mtime":1611180263746,"results":"17","hashOfConfig":"18"},{"size":2341,"mtime":1614971174574,"results":"19","hashOfConfig":"18"},{"size":362,"mtime":499162500000,"results":"20","hashOfConfig":"18"},{"size":1313,"mtime":1615541374786,"results":"21","hashOfConfig":"18"},{"size":629,"mtime":1610817023562,"results":"22","hashOfConfig":"18"},{"size":1093,"mtime":1615541328474,"results":"23","hashOfConfig":"18"},{"size":5101,"mtime":1615541309669,"results":"24","hashOfConfig":"18"},{"size":2441,"mtime":1615541309484,"results":"25","hashOfConfig":"18"},{"size":9764,"mtime":1615541374790,"results":"26","hashOfConfig":"18"},{"size":4789,"mtime":1615541374788,"results":"27","hashOfConfig":"18"},{"size":2896,"mtime":1614971174593,"results":"28","hashOfConfig":"18"},{"size":6824,"mtime":1614971174598,"results":"29","hashOfConfig":"18"},{"size":4100,"mtime":1614971174580,"results":"30","hashOfConfig":"18"},{"size":3784,"mtime":1614971174583,"results":"31","hashOfConfig":"18"},{"size":4704,"mtime":1615541374785,"results":"32","hashOfConfig":"18"},{"size":4377,"mtime":1615541374783,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"bjewx3",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\index.js",[],["68","69"],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\App.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\reportWebVitals.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\navbar\\navbar.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\Products\\products.js",["70"],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\home-page\\home-page.js",["71","72"],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\products\\products.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\categories\\categories.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\products\\edit.js",["73"],"import React, { useState, useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { IconButton } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport default function EditProduct(props) {\r\n   \r\n    // const [productDetails, setProductDetails] = useState(null);\r\n    const [name, setProductName] = useState(null);\r\n    const [brand, setProductBrand] = useState(null);\r\n    const [price, setProductPrice] = useState(null);\r\n    const [image, setProductImage] = useState(null);\r\n    const [error, setError] = useState(\"\");\r\n    const [stock, setStock] = useState([{\r\n        size: '',\r\n        quantity: ''\r\n    }]);\r\n    const history = useHistory();\r\n    const productID = props.location.state.product.id;\r\n    var imageFile;\r\n\r\n    useEffect(() => {\r\n\r\n        fetch('http://localhost:8080/Products/' + productID)\r\n        .then((response) => response.json())\r\n        .then((data) => { \r\n            // setProductDetails(data.product); \r\n                          setProductName(data.product.name);\r\n                          setProductBrand(data.product.brand);\r\n                          setProductPrice(data.product.price);\r\n                          setProductImage(data.product.image);\r\n                          setStock(data.product.stock);});\r\n    }, [productID]);\r\n\r\n    const handleSubmit = async e => {\r\n        if (name === \"\" || brand === \"\" || price === \"\" || image === \"\") {\r\n            setError(\"All fields required\");\r\n            return;\r\n        } else {\r\n            e.preventDefault();\r\n            const message = await editProductFunc({\r\n                name,\r\n                brand,\r\n                price,\r\n                image,\r\n                stock\r\n            }, props.location.state.product.id, props.token);\r\n            if (message.status !== 200) {\r\n            setError(\"Authentication failed\");\r\n            } else {\r\n            history.push(\"/Products\");\r\n            }\r\n        }\r\n    }\r\n\r\n    const setImageFile = async e => {\r\n        imageFile = e.target.files[0]\r\n    }\r\n    \r\n    async function editProductFunc(credentials, id, token) {\r\n        \r\n        // var formBody = [];\r\n        var formData = new FormData();\r\n        const fileField = document.querySelector('input[type=\"file\"]').files[0];\r\n\r\n        for (var property in credentials) {\r\n            if (property === 'image') {\r\n                if (fileField) {\r\n                    formData.append(property,fileField);\r\n                }\r\n            } else if (property === 'stock'){\r\n                // for (let i = 0; i < stock.length; i++) {\r\n                    // formData.append(property, JSON.stringify(stock[i]));\r\n                    formData.append(property, JSON.stringify(stock));\r\n                // }\r\n            } else {\r\n                formData.append(property,credentials[property]);\r\n            }\r\n        }\r\n        return fetch('http://localhost:8080/Products/' + id, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Authorization': 'Bearer ' + token.token\r\n            }, body: formData\r\n            }).then((response) =>  {\r\n                return response;\r\n             });\r\n    \r\n    }    \r\n\r\n    const handleArrayChange = (event, index) => {\r\n        var stockTemp = [...stock];\r\n        stockTemp[index][event.target.name] = Number(event.target.value);\r\n        setStock( stockTemp )\r\n      }\r\n\r\n      const addActivity = (e) => {\r\n        // if (state.length < 3) {\r\n            var stockTemp = [...stock, {\r\n                size: '',\r\n                quantity: '',\r\n            }]\r\n        \r\n            setStock( stockTemp )\r\n        }\r\n    //   }\r\n      const removeElement = (e, index) => {\r\n        if (stock.length > 1) {\r\n          var stockTemp = [...stock]\r\n          stockTemp.splice(index, 1)\r\n          setStock( stockTemp )\r\n        }\r\n      }\r\n\r\n    return (\r\n        \r\n        <div className=\"container rounded bg-white mt-5 center width-auto\">\r\n         <div className=\"row justify-content-center blue-background \">\r\n            <div className=\"col-md-4 border-right\">\r\n                <div className=\"d-flex flex-column align-items-center text-center p-3 py-5\">\r\n                    <h3 className=\"font-weight-bold\">{name}</h3>\r\n                    {(() => {\r\n                        if (image){\r\n                            return (\r\n                                <img className=\"rounded-circle mt-5\" src={\"http://localhost:8080/\" + image} width={160} alt=\"\"/>\r\n                            )\r\n                        }              \r\n                        return null;\r\n                    })()}                    \r\n                </div>\r\n            </div>\r\n            <div className=\"col-md-8\">\r\n                <div className=\"p-3 py-5\">\r\n                <div className=\"d-flex justify-content-between align-items-center mb-3\"> \r\n                    <div className=\"d-flex flex-row align-items-center back\"><i className=\"fa fa-long-arrow-left mr-1 mb-1\" />\r\n                    <h6 className=\"bold\"><Link to ={'/Products'}>Back to products</Link></h6>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-2\">\r\n                <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"Name\">Name</label>\r\n                        {(() => {\r\n                        if (name){\r\n                            return (\r\n                                <input type=\"Name\" className=\"form-control\" placeholder=\"Name\" value={name}\r\n                                onChange={ (e) => setProductName( e.target.value ) }/>                         )\r\n                        }              \r\n                        return null;\r\n                    })()} \r\n\r\n                    </div>\r\n                         <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"Brand\">Brand</label>\r\n                        {(() => {\r\n                        if (brand){\r\n                            return (\r\n                                <input type=\"Brand\" className=\"form-control\" placeholder=\"Brand\" value={brand}\r\n                                onChange={ (e) => setProductBrand( e.target.value ) }/>                               )\r\n                        }              \r\n                        return null;\r\n                    })()} \r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mt-3\">\r\n                <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"Price\">Price in ₪</label>\r\n                        {(() => {\r\n                        if (price){\r\n                            return (\r\n                                <input type=\"Price\" className=\"form-control\" placeholder=\"Price ₪\" value={price}\r\n                                onChange={ (e) => setProductPrice( e.target.value ) }/>                           )\r\n                        }              \r\n                        return null;\r\n                    })()} \r\n\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">                    \r\n                        <label htmlFor=\"file\">Image</label>\r\n                        <input type='file' className=\"form-control\" \r\n                            onChange={ (e) => setImageFile( e ) } /> \r\n                    </div>\r\n                </div>\r\n\r\n                <ul className=\"list-group .overflow-auto\">\r\n                { stock.map((obj, index) => {\r\n                    return (\r\n                        <li key={index} className=\"nostyle  d-flex justify-content-between align-items-center\" >\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"form-group col-md-5\"> \r\n                                    <label htmlFor=\"size\">Size</label>\r\n                                    <input type=\"text\" className=\"form-control\" name=\"size\" value={obj.size} onChange={(e) => handleArrayChange(e, index)} />\r\n                                </div>\r\n                                <div className=\"form-group col-md-5\"> \r\n                                    <label htmlFor=\"quantity\">Quantity</label>\r\n                                    <input type=\"text\" className=\"form-control\" name=\"quantity\" value={obj.quantity} onChange={(e) => handleArrayChange(e, index)} />\r\n                                </div>\r\n                                <div className=\"\"> \r\n                                    <IconButton type={\"button\"} onClick={(e) => removeElement(e,index)} ><DeleteIcon/></IconButton>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </li>\r\n                    )\r\n                    })}         \r\n                </ul>\r\n\r\n                <button type={\"button\"} onClick={addActivity}>Add More Activity</button>\r\n\r\n                <div className=\"mt-5 text-right\"><button className=\"btn btn-primary profile-button\" type=\"button\"\r\n                     onClick={handleSubmit}>Save Changes</button></div>\r\n                </div>\r\n                {error && (\r\n                    <Alert severity=\"error\" onClick={() => setError(null)}>\r\n                         {error}\r\n                    </Alert>\r\n                 )}\r\n            </div>\r\n            </div>\r\n      </div>\r\n    )\r\n}\r\n","C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\products\\delete.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\login-page\\login-page.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\products\\add.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\Users\\sign-up.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\Users\\users-main.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\Users\\edit.js",[],"C:\\Users\\Nir\\React\\sportstar-client-react\\src\\components\\Users\\delete.js",[],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":2,"column":10,"nodeType":"80","messageId":"81","endLine":2,"endColumn":19},{"ruleId":"78","severity":1,"message":"82","line":4,"column":10,"nodeType":"80","messageId":"81","endLine":4,"endColumn":19},{"ruleId":"78","severity":1,"message":"83","line":4,"column":21,"nodeType":"80","messageId":"81","endLine":4,"endColumn":29},{"ruleId":"78","severity":1,"message":"84","line":63,"column":9,"nodeType":"80","messageId":"81","endLine":63,"endColumn":18},"no-native-reassign",["85"],"no-negated-in-lhs",["86"],"no-unused-vars","'ListGroup' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useState' is defined but never used.","'imageFile' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]